{"ast":null,"code":"import { buildAlphaNumericPercentArbitrary } from './_internals/builders/CharacterRangeArbitraryBuilder.js';\nimport { constant } from './constant.js';\nimport { domain } from './domain.js';\nimport { ipV4 } from './ipV4.js';\nimport { ipV4Extended } from './ipV4Extended.js';\nimport { ipV6 } from './ipV6.js';\nimport { nat } from './nat.js';\nimport { oneof } from './oneof.js';\nimport { option } from './option.js';\nimport { stringOf } from './stringOf.js';\nimport { tuple } from './tuple.js';\nfunction hostUserInfo(size) {\n  const others = ['-', '.', '_', '~', '!', '$', '&', \"'\", '(', ')', '*', '+', ',', ';', '=', ':'];\n  return stringOf(buildAlphaNumericPercentArbitrary(others), {\n    size\n  });\n}\nfunction userHostPortMapper(_ref) {\n  let [u, h, p] = _ref;\n  return (u === null ? '' : `${u}@`) + h + (p === null ? '' : `:${p}`);\n}\nfunction userHostPortUnmapper(value) {\n  if (typeof value !== 'string') {\n    throw new Error('Unsupported');\n  }\n  const atPosition = value.indexOf('@');\n  const user = atPosition !== -1 ? value.substring(0, atPosition) : null;\n  const portRegex = /:(\\d+)$/;\n  const m = portRegex.exec(value);\n  const port = m !== null ? Number(m[1]) : null;\n  const host = m !== null ? value.substring(atPosition + 1, value.length - m[1].length - 1) : value.substring(atPosition + 1);\n  return [user, host, port];\n}\nfunction bracketedMapper(s) {\n  return `[${s}]`;\n}\nfunction bracketedUnmapper(value) {\n  if (typeof value !== 'string' || value[0] !== '[' || value[value.length - 1] !== ']') {\n    throw new Error('Unsupported');\n  }\n  return value.substring(1, value.length - 1);\n}\nexport function webAuthority(constraints) {\n  const c = constraints || {};\n  const size = c.size;\n  const hostnameArbs = [domain({\n    size\n  })].concat(c.withIPv4 === true ? [ipV4()] : []).concat(c.withIPv6 === true ? [ipV6().map(bracketedMapper, bracketedUnmapper)] : []).concat(c.withIPv4Extended === true ? [ipV4Extended()] : []);\n  return tuple(c.withUserInfo === true ? option(hostUserInfo(size)) : constant(null), oneof(...hostnameArbs), c.withPort === true ? option(nat(65535)) : constant(null)).map(userHostPortMapper, userHostPortUnmapper);\n}","map":{"version":3,"names":["buildAlphaNumericPercentArbitrary","constant","domain","ipV4","ipV4Extended","ipV6","nat","oneof","option","stringOf","tuple","hostUserInfo","size","others","userHostPortMapper","u","h","p","userHostPortUnmapper","value","Error","atPosition","indexOf","user","substring","portRegex","m","exec","port","Number","host","length","bracketedMapper","s","bracketedUnmapper","webAuthority","constraints","c","hostnameArbs","concat","withIPv4","withIPv6","map","withIPv4Extended","withUserInfo","withPort"],"sources":["C:/Users/ankit/Desktop/FUND/funding/node_modules/fast-check/lib/esm/arbitrary/webAuthority.js"],"sourcesContent":["import { buildAlphaNumericPercentArbitrary } from './_internals/builders/CharacterRangeArbitraryBuilder.js';\nimport { constant } from './constant.js';\nimport { domain } from './domain.js';\nimport { ipV4 } from './ipV4.js';\nimport { ipV4Extended } from './ipV4Extended.js';\nimport { ipV6 } from './ipV6.js';\nimport { nat } from './nat.js';\nimport { oneof } from './oneof.js';\nimport { option } from './option.js';\nimport { stringOf } from './stringOf.js';\nimport { tuple } from './tuple.js';\nfunction hostUserInfo(size) {\n    const others = ['-', '.', '_', '~', '!', '$', '&', \"'\", '(', ')', '*', '+', ',', ';', '=', ':'];\n    return stringOf(buildAlphaNumericPercentArbitrary(others), { size });\n}\nfunction userHostPortMapper([u, h, p]) {\n    return (u === null ? '' : `${u}@`) + h + (p === null ? '' : `:${p}`);\n}\nfunction userHostPortUnmapper(value) {\n    if (typeof value !== 'string') {\n        throw new Error('Unsupported');\n    }\n    const atPosition = value.indexOf('@');\n    const user = atPosition !== -1 ? value.substring(0, atPosition) : null;\n    const portRegex = /:(\\d+)$/;\n    const m = portRegex.exec(value);\n    const port = m !== null ? Number(m[1]) : null;\n    const host = m !== null ? value.substring(atPosition + 1, value.length - m[1].length - 1) : value.substring(atPosition + 1);\n    return [user, host, port];\n}\nfunction bracketedMapper(s) {\n    return `[${s}]`;\n}\nfunction bracketedUnmapper(value) {\n    if (typeof value !== 'string' || value[0] !== '[' || value[value.length - 1] !== ']') {\n        throw new Error('Unsupported');\n    }\n    return value.substring(1, value.length - 1);\n}\nexport function webAuthority(constraints) {\n    const c = constraints || {};\n    const size = c.size;\n    const hostnameArbs = [domain({ size })]\n        .concat(c.withIPv4 === true ? [ipV4()] : [])\n        .concat(c.withIPv6 === true ? [ipV6().map(bracketedMapper, bracketedUnmapper)] : [])\n        .concat(c.withIPv4Extended === true ? [ipV4Extended()] : []);\n    return tuple(c.withUserInfo === true ? option(hostUserInfo(size)) : constant(null), oneof(...hostnameArbs), c.withPort === true ? option(nat(65535)) : constant(null)).map(userHostPortMapper, userHostPortUnmapper);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}